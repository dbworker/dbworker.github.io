<!--
 * Copyright (c) 2015 Mountainstorm
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 -->
 <html>
	<head>
		<meta charset="utf-8">
		<!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.4/css/bootstrap.min.css"> -->
		<!-- <link rel="stylesheet" href="css/graphviz.svg.css"> -->
	</head>

	<style>
        #instructions {
            color: #fcfcfc;
            position: absolute;
            z-index: 100;
            bottom: 0px;
            left: 0px;
        }
        .graphviz-svg {
            position: relative;
        }

        /* stop tooltips wrapping */
        .graphviz-svg .tooltip-inner {
            white-space: nowrap;
        }

        /* stop people selecting text on nodes */
        .graphviz-svg text {
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            -khtml-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            cursor: default;
        }
    </style>
	<body>
		<h4 id="instructions">Click node to highlight; Shift-scroll to zoom; Esc to unhighlight</h4>
		<div id="graph" style="width: 100%; height: 100%; overflow: scroll;"></div>

		<!-- <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.3.min.js"></script>
		<script type="text/javascript" src="https://cdn.rawgit.com/jquery/jquery-mousewheel/master/jquery.mousewheel.min.js"></script>
		<script type="text/javascript" src="https://cdn.rawgit.com/jquery/jquery-color/master/jquery.color.js"></script>
		<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.4/js/bootstrap.min.js"></script> -->

		<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.3.min.js"></script>
		<!-- <script type="text/javascript" src="https://code.jquery.com/jquery-mousewheel/master/jquery.mousewheel.min.js"></script> -->
		<!-- <script type="text/javascript" src="https://code.jquery.com/jquery-color/master/jquery.color.js"></script> -->
		<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.4/js/bootstrap.min.js"></script>
		<!-- <script type="text/javascript" src="dist/jquery.min.js"></script>
		<script type="text/javascript" src="dist/jquery.color.min.js"></script>
		<script type="text/javascript" src="dist/jquery.mousewheel.js"></script>
		<script type="text/javascript" src="dist/bootstrap.min.js"></script> -->

		<!-- <script type="text/javascript" src="js/jquery.graphviz.svg.js"></script> -->
		<script type="text/javascript">

!function(r,n){"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof exports?module.exports=n(require("jquery")):n(r.jQuery)}(this,function(l,f){var c,t={},n=t.toString,p=/^([\-+])=\s*(\d+\.?\d*)/,r=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(r){return[r[1],r[2],r[3],r[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(r){return[2.55*r[1],2.55*r[2],2.55*r[3],r[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})?/,parse:function(r){return[parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16),r[4]?(parseInt(r[4],16)/255).toFixed(2):1]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])?/,parse:function(r){return[parseInt(r[1]+r[1],16),parseInt(r[2]+r[2],16),parseInt(r[3]+r[3],16),r[4]?(parseInt(r[4]+r[4],16)/255).toFixed(2):1]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(r){return[r[1],r[2]/100,r[3]/100,r[4]]}}],d=l.Color=function(r,n,t,e){return new l.Color.fn.parse(r,n,t,e)},h={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},b={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},i=d.support={},e=l("<p>")[0],g=l.each;function x(r){return null==r?r+"":"object"==typeof r?t[n.call(r)]||"object":typeof r}function y(r,n,t){var e=b[n.type]||{};return null==r?t||!n.def?null:n.def:(r=e.floor?~~r:parseFloat(r),isNaN(r)?n.def:e.mod?(r+e.mod)%e.mod:Math.min(e.max,Math.max(0,r)))}function s(i){var s=d(),u=s._rgba=[];return i=i.toLowerCase(),g(r,function(r,n){var t,e=n.re.exec(i),o=e&&n.parse(e),a=n.space||"rgba";if(o)return t=s[a](o),s[h[a].cache]=t[h[a].cache],u=s._rgba=t._rgba,!1}),u.length?("0,0,0,0"===u.join()&&l.extend(u,c.transparent),s):c[i]}function u(r,n,t){return 6*(t=(t+1)%1)<1?r+(n-r)*t*6:2*t<1?n:3*t<2?r+(n-r)*(2/3-t)*6:r}e.style.cssText="background-color:rgba(1,1,1,.5)",i.rgba=-1<e.style.backgroundColor.indexOf("rgba"),g(h,function(r,n){n.cache="_"+r,n.props.alpha={idx:3,type:"percent",def:1}}),l.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(r,n){t["[object "+n+"]"]=n.toLowerCase()}),d.fn=l.extend(d.prototype,{parse:function(o,r,n,t){if(o===f)return this._rgba=[null,null,null,null],this;(o.jquery||o.nodeType)&&(o=l(o).css(r),r=f);var a=this,e=x(o),i=this._rgba=[];return r!==f&&(o=[o,r,n,t],e="array"),"string"===e?this.parse(s(o)||c._default):"array"===e?(g(h.rgba.props,function(r,n){i[n.idx]=y(o[n.idx],n)}),this):"object"===e?(g(h,o instanceof d?function(r,n){o[n.cache]&&(a[n.cache]=o[n.cache].slice())}:function(r,t){var e=t.cache;g(t.props,function(r,n){if(!a[e]&&t.to){if("alpha"===r||null==o[r])return;a[e]=t.to(a._rgba)}a[e][n.idx]=y(o[r],n,!0)}),a[e]&&l.inArray(null,a[e].slice(0,3))<0&&(null==a[e][3]&&(a[e][3]=1),t.from&&(a._rgba=t.from(a[e])))}),this):void 0},is:function(r){var o=d(r),a=!0,i=this;return g(h,function(r,n){var t,e=o[n.cache];return e&&(t=i[n.cache]||n.to&&n.to(i._rgba)||[],g(n.props,function(r,n){if(null!=e[n.idx])return a=e[n.idx]===t[n.idx]})),a}),a},_space:function(){var t=[],e=this;return g(h,function(r,n){e[n.cache]&&t.push(r)}),t.pop()},transition:function(r,i){var n=(l=d(r))._space(),t=h[n],e=0===this.alpha()?d("transparent"):this,s=e[t.cache]||t.to(e._rgba),u=s.slice(),l=l[t.cache];return g(t.props,function(r,n){var t=n.idx,e=s[t],o=l[t],a=b[n.type]||{};null!==o&&(null===e?u[t]=o:(a.mod&&(a.mod/2<o-e?e+=a.mod:a.mod/2<e-o&&(e-=a.mod)),u[t]=y((o-e)*i+e,n)))}),this[n](u)},blend:function(r){if(1===this._rgba[3])return this;var n=this._rgba.slice(),t=n.pop(),e=d(r)._rgba;return d(l.map(n,function(r,n){return(1-t)*e[n]+t*r}))},toRgbaString:function(){var r="rgba(",n=l.map(this._rgba,function(r,n){return null!=r?r:2<n?1:0});return 1===n[3]&&(n.pop(),r="rgb("),r+n.join()+")"},toHslaString:function(){var r="hsla(",n=l.map(this.hsla(),function(r,n){return null==r&&(r=2<n?1:0),n&&n<3&&(r=Math.round(100*r)+"%"),r});return 1===n[3]&&(n.pop(),r="hsl("),r+n.join()+")"},toHexString:function(r){var n=this._rgba.slice(),t=n.pop();return r&&n.push(~~(255*t)),"#"+l.map(n,function(r){return 1===(r=(r||0).toString(16)).length?"0"+r:r}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),d.fn.parse.prototype=d.fn,h.hsla.to=function(r){if(null==r[0]||null==r[1]||null==r[2])return[null,null,null,r[3]];var n=r[0]/255,t=r[1]/255,e=r[2]/255,o=r[3],a=Math.max(n,t,e),i=Math.min(n,t,e),s=a-i,u=a+i,l=.5*u,f=i===a?0:n===a?60*(t-e)/s+360:t===a?60*(e-n)/s+120:60*(n-t)/s+240,c=0==s?0:l<=.5?s/u:s/(2-u);return[Math.round(f)%360,c,l,null==o?1:o]},h.hsla.from=function(r){if(null==r[0]||null==r[1]||null==r[2])return[null,null,null,r[3]];var n=r[0]/360,t=r[1],e=r[2],o=r[3],a=e<=.5?e*(1+t):e+t-e*t,i=2*e-a;return[Math.round(255*u(i,a,n+1/3)),Math.round(255*u(i,a,n)),Math.round(255*u(i,a,n-1/3)),o]},g(h,function(u,r){var t=r.props,i=r.cache,s=r.to,l=r.from;d.fn[u]=function(r){if(s&&!this[i]&&(this[i]=s(this._rgba)),r===f)return this[i].slice();var n,e=x(r),o="array"===e||"object"===e?r:arguments,a=this[i].slice();return g(t,function(r,n){var t=o["object"===e?r:n.idx];null==t&&(t=a[n.idx]),a[n.idx]=y(t,n)}),l?((n=d(l(a)))[i]=a,n):d(a)},g(t,function(i,s){d.fn[i]||(d.fn[i]=function(r){var n,t=x(r),e="alpha"===i?this._hsla?"hsla":"rgba":u,o=this[e](),a=o[s.idx];return"undefined"===t?a:("function"===t&&(t=x(r=r.call(this,a))),null==r&&s.empty?this:("string"===t&&(n=p.exec(r))&&(r=a+parseFloat(n[2])*("+"===n[1]?1:-1)),o[s.idx]=r,this[e](o)))})})}),d.hook=function(r){var n=r.split(" ");g(n,function(r,a){l.cssHooks[a]={set:function(r,n){var t,e,o="";if("transparent"!==n&&("string"!==x(n)||(t=s(n)))){if(n=d(t||n),!i.rgba&&1!==n._rgba[3]){for(e="backgroundColor"===a?r.parentNode:r;(""===o||"transparent"===o)&&e&&e.style;)try{o=l.css(e,"backgroundColor"),e=e.parentNode}catch(r){}n=n.blend(o&&"transparent"!==o?o:"_default")}n=n.toRgbaString()}try{r.style[a]=n}catch(r){}}},l.fx.step[a]=function(r){r.colorInit||(r.start=d(r.elem,a),r.end=d(r.end),r.colorInit=!0),l.cssHooks[a].set(r.elem,r.start.transition(r.end,r.pos))}})},d.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),l.cssHooks.borderColor={expand:function(t){var e={};return g(["Top","Right","Bottom","Left"],function(r,n){e["border"+n+"Color"]=t}),e}},c=l.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}});

(function (factory) {
    if ( typeof define === 'function' && define.amd ) {
        // AMD. Register as an anonymous module.
        define(['jquery'], factory);
    } else if (typeof exports === 'object') {
        // Node/CommonJS style for Browserify
        module.exports = factory;
    } else {
        // Browser globals
        factory(jQuery);
    }
}(function ($) {

    var toFix  = ['wheel', 'mousewheel', 'DOMMouseScroll', 'MozMousePixelScroll'],
        toBind = ( 'onwheel' in document || document.documentMode >= 9 ) ?
                    ['wheel'] : ['mousewheel', 'DomMouseScroll', 'MozMousePixelScroll'],
        slice  = Array.prototype.slice,
        nullLowestDeltaTimeout, lowestDelta;

    if ( $.event.fixHooks ) {
        for ( var i = toFix.length; i; ) {
            $.event.fixHooks[ toFix[--i] ] = $.event.mouseHooks;
        }
    }

    var special = $.event.special.mousewheel = {
        version: '3.1.12',

        setup: function() {
            if ( this.addEventListener ) {
                for ( var i = toBind.length; i; ) {
                    this.addEventListener( toBind[--i], handler, false );
                }
            } else {
                this.onmousewheel = handler;
            }
            // Store the line height and page height for this particular element
            $.data(this, 'mousewheel-line-height', special.getLineHeight(this));
            $.data(this, 'mousewheel-page-height', special.getPageHeight(this));
        },

        teardown: function() {
            if ( this.removeEventListener ) {
                for ( var i = toBind.length; i; ) {
                    this.removeEventListener( toBind[--i], handler, false );
                }
            } else {
                this.onmousewheel = null;
            }
            // Clean up the data we added to the element
            $.removeData(this, 'mousewheel-line-height');
            $.removeData(this, 'mousewheel-page-height');
        },

        getLineHeight: function(elem) {
            var $elem = $(elem),
                $parent = $elem['offsetParent' in $.fn ? 'offsetParent' : 'parent']();
            if (!$parent.length) {
                $parent = $('body');
            }
            return parseInt($parent.css('fontSize'), 10) || parseInt($elem.css('fontSize'), 10) || 16;
        },

        getPageHeight: function(elem) {
            return $(elem).height();
        },

        settings: {
            adjustOldDeltas: true, // see shouldAdjustOldDeltas() below
            normalizeOffset: true  // calls getBoundingClientRect for each event
        }
    };

    $.fn.extend({
        mousewheel: function(fn) {
            return fn ? this.bind('mousewheel', fn) : this.trigger('mousewheel');
        },

        unmousewheel: function(fn) {
            return this.unbind('mousewheel', fn);
        }
    });


    function handler(event) {
        var orgEvent   = event || window.event,
            args       = slice.call(arguments, 1),
            delta      = 0,
            deltaX     = 0,
            deltaY     = 0,
            absDelta   = 0,
            offsetX    = 0,
            offsetY    = 0;
        event = $.event.fix(orgEvent);
        event.type = 'mousewheel';

        // Old school scrollwheel delta
        if ( 'detail'      in orgEvent ) { deltaY = orgEvent.detail * -1;      }
        if ( 'wheelDelta'  in orgEvent ) { deltaY = orgEvent.wheelDelta;       }
        if ( 'wheelDeltaY' in orgEvent ) { deltaY = orgEvent.wheelDeltaY;      }
        if ( 'wheelDeltaX' in orgEvent ) { deltaX = orgEvent.wheelDeltaX * -1; }

        // Firefox < 17 horizontal scrolling related to DOMMouseScroll event
        if ( 'axis' in orgEvent && orgEvent.axis === orgEvent.HORIZONTAL_AXIS ) {
            deltaX = deltaY * -1;
            deltaY = 0;
        }

        // Set delta to be deltaY or deltaX if deltaY is 0 for backwards compatabilitiy
        delta = deltaY === 0 ? deltaX : deltaY;

        // New school wheel delta (wheel event)
        if ( 'deltaY' in orgEvent ) {
            deltaY = orgEvent.deltaY * -1;
            delta  = deltaY;
        }
        if ( 'deltaX' in orgEvent ) {
            deltaX = orgEvent.deltaX;
            if ( deltaY === 0 ) { delta  = deltaX * -1; }
        }

        // No change actually happened, no reason to go any further
        if ( deltaY === 0 && deltaX === 0 ) { return; }

        // Need to convert lines and pages to pixels if we aren't already in pixels
        // There are three delta modes:
        //   * deltaMode 0 is by pixels, nothing to do
        //   * deltaMode 1 is by lines
        //   * deltaMode 2 is by pages
        if ( orgEvent.deltaMode === 1 ) {
            var lineHeight = $.data(this, 'mousewheel-line-height');
            delta  *= lineHeight;
            deltaY *= lineHeight;
            deltaX *= lineHeight;
        } else if ( orgEvent.deltaMode === 2 ) {
            var pageHeight = $.data(this, 'mousewheel-page-height');
            delta  *= pageHeight;
            deltaY *= pageHeight;
            deltaX *= pageHeight;
        }

        // Store lowest absolute delta to normalize the delta values
        absDelta = Math.max( Math.abs(deltaY), Math.abs(deltaX) );

        if ( !lowestDelta || absDelta < lowestDelta ) {
            lowestDelta = absDelta;

            // Adjust older deltas if necessary
            if ( shouldAdjustOldDeltas(orgEvent, absDelta) ) {
                lowestDelta /= 40;
            }
        }

        // Adjust older deltas if necessary
        if ( shouldAdjustOldDeltas(orgEvent, absDelta) ) {
            // Divide all the things by 40!
            delta  /= 40;
            deltaX /= 40;
            deltaY /= 40;
        }

        // Get a whole, normalized value for the deltas
        delta  = Math[ delta  >= 1 ? 'floor' : 'ceil' ](delta  / lowestDelta);
        deltaX = Math[ deltaX >= 1 ? 'floor' : 'ceil' ](deltaX / lowestDelta);
        deltaY = Math[ deltaY >= 1 ? 'floor' : 'ceil' ](deltaY / lowestDelta);

        // Normalise offsetX and offsetY properties
        if ( special.settings.normalizeOffset && this.getBoundingClientRect ) {
            var boundingRect = this.getBoundingClientRect();
            offsetX = event.clientX - boundingRect.left;
            offsetY = event.clientY - boundingRect.top;
        }

        // Add information to the event object
        event.deltaX = deltaX;
        event.deltaY = deltaY;
        event.deltaFactor = lowestDelta;
        event.offsetX = offsetX;
        event.offsetY = offsetY;
        // Go ahead and set deltaMode to 0 since we converted to pixels
        // Although this is a little odd since we overwrite the deltaX/Y
        // properties with normalized deltas.
        event.deltaMode = 0;

        // Add event and delta to the front of the arguments
        args.unshift(event, delta, deltaX, deltaY);

        // Clearout lowestDelta after sometime to better
        // handle multiple device types that give different
        // a different lowestDelta
        // Ex: trackpad = 3 and mouse wheel = 120
        if (nullLowestDeltaTimeout) { clearTimeout(nullLowestDeltaTimeout); }
        nullLowestDeltaTimeout = setTimeout(nullLowestDelta, 200);

        return ($.event.dispatch || $.event.handle).apply(this, args);
    }

    function nullLowestDelta() {
        lowestDelta = null;
    }

    function shouldAdjustOldDeltas(orgEvent, absDelta) {
        // If this is an older event and the delta is divisable by 120,
        // then we are assuming that the browser is treating this as an
        // older mouse wheel event and that we should divide the deltas
        // by 40 to try and get a more usable deltaFactor.
        // Side note, this actually impacts the reported scroll distance
        // in older browsers and can cause scrolling to be slower than native.
        // Turn this off by setting $.event.special.mousewheel.settings.adjustOldDeltas to false.
        return special.settings.adjustOldDeltas && orgEvent.type === 'mousewheel' && absDelta % 120 === 0;
    }

}));
// ===========
 +function ($) {
  'use strict'

  // Cross Browser starts/endsWith support
  // =====================================
  String.prototype.startsWith = function(prefix) {
    return this.indexOf(prefix) == 0;
  };

  String.prototype.endsWith = function(suffix) {
    return this.indexOf(suffix, this.length - suffix.length) !== -1;
  };

  // GRAPHVIZSVG PUBLIC CLASS DEFINITION
  // ===================================

  var GraphvizSvg = function (element, options) {
    this.type       = null
    this.options    = null
    this.enabled    = null
    this.$element   = null

    this.init('graphviz.svg', element, options)
  }

  GraphvizSvg.VERSION  = '1.0.1'

  GraphvizSvg.GVPT_2_PX = 32.5 // used to ease removal of extra space

  GraphvizSvg.DEFAULTS = {
    url: null,
    svg: null,
    shrink: '0.125pt',
    tooltips: {
      init: function ($graph) {
        var $a = $(this)
        $a.tooltip({
          container: $graph,
          placement: 'auto left',
          animation: false,
          viewport: null
        }).on('hide.bs.tooltip', function() {
          // keep them visible even if you acidentally mouse over
          if ($a.attr('data-tooltip-keepvisible')) {
            return false
          }
        })
      },
      show: function () {
        var $a = $(this)
        $a.attr('data-tooltip-keepvisible', true)
        $a.tooltip('show')
      },
      hide: function () {
        var $a = $(this)
        $a.removeAttr('data-tooltip-keepvisible')
        $a.tooltip('hide')
      },
      update: function () {
        var $this = $(this)
        if ($this.attr('data-tooltip-keepvisible')) {
          $this.tooltip('show')
          return
        }
      }
    },
    zoom: true,
    highlight: {
      selected: function (col, bg) {
        return col
      },
      unselected: function (col, bg) {
        return jQuery.Color(col).transition(bg, 0.9)
      }
    },
    ready: null
  }

  GraphvizSvg.prototype.init = function (type, element, options) {
    this.enabled   = true
    this.type      = type
    this.$element  = $(element)
    this.options   = this.getOptions(options)

    if (options.url) {
      var that = this
      $.get(options.url, null, function(data) {
        var svg = $("svg", data)
        that.$element.html(document.adoptNode(svg[0]))
        that.setup()
      }, "xml")
    } else {
      if (options.svg) {
        this.$element.html(options.svg)
      }
      this.setup()
    }
  }

  GraphvizSvg.prototype.getDefaults = function () {
    return GraphvizSvg.DEFAULTS
  }

  GraphvizSvg.prototype.getOptions = function (options) {
    options = $.extend({}, this.getDefaults(), this.$element.data(), options)

    if (options.shrink) {
      if (typeof options.shrink != 'object') {
        options.shrink = {
          x: options.shrink,
          y: options.shrink
        }
      }
      options.shrink.x = this.convertToPx(options.shrink.x)
      options.shrink.y = this.convertToPx(options.shrink.y)
    }
    return options
  }

  GraphvizSvg.prototype.setup = function () {
    var options = this.options

    // save key elements in the graph for easy access
    var $svg = $(this.$element.children('svg'))
    var $graph = $svg.children('g:first')
    this.$svg = $svg
    this.$graph = $graph
    this.$background = $graph.children('polygon:first') // might not exist
    this.$nodes = $graph.children('.node')
    this.$edges = $graph.children('.edge')
    this._nodesByName = {}
    this._edgesByName = {}

    // add top level class and copy background color to element
    this.$element.addClass('graphviz-svg')
    if (this.$background.length) {
      this.$element.css('background', this.$background.attr('fill'))
    }

    // setup all the nodes and edges
    var that = this
    this.$nodes.each(function () { that.setupNodesEdges($(this), true) })
    this.$edges.each(function () { that.setupNodesEdges($(this), false) })

    // remove the graph title element
    var $title = this.$graph.children('title')
    this.$graph.attr('data-name', $title.text())
    $title.remove()

    if (options.zoom) {
      this.setupZoom()
    }

    // tell people we're done
    if (options.ready) {
      options.ready.call(this)
    }
  }

  GraphvizSvg.prototype.setupNodesEdges = function ($el, isNode) {
    var that = this
    var options = this.options

    // save the colors of the paths, ellipses and polygons
    $el.find('polygon, ellipse, path').each(function () {
      var $this = $(this)
      // save original colors
      $this.data('graphviz.svg.color', {
        fill: $this.attr('fill'),
        stroke: $this.attr('stroke')

      })

      // shrink it if it's a node
      if (isNode && options.shrink) {
        that.scaleNode($this)
      }
    })

    // save the node name and check if theres a comment above; save it
    var title = $el.attr('data-name')
    if (title) {
      // remove any compass points:
      title = title.replace(/:[snew][ew]?/g,'')
      //$el.attr('data-name', title)
      //$title.remove()
      if (isNode) {
        this._nodesByName[title] = $el[0]
      } else {
        this._edgesByName[title] = $el[0]
      }
      // without a title we can't tell if its a user comment or not
      var previousSibling = $el[0].previousSibling
      while (previousSibling && previousSibling.nodeType != 8) {
        previousSibling = previousSibling.previousSibling
      }
      if (previousSibling != null && previousSibling.nodeType == 8) {
        var htmlDecode = function (input) {
          var e = document.createElement('div')
          e.innerHTML = input
          return e.childNodes[0].nodeValue
        }
        var value = htmlDecode(previousSibling.nodeValue.trim())
        if (value != title) {
          // user added comment
          $el.attr('data-comment', value)
        }
      }
    }

    // remove namespace from a[xlink:title]
    $el.children('a').filter(function () { return $(this).attr('xlink:title') }).each(function () {
      var $a = $(this)
      $a.attr('title', $a.attr('xlink:title'))
      $a.removeAttr('xlink:title')
      if (options.tooltips) {
        options.tooltips.init.call(this, that.$element)
      }
    })
  }

  GraphvizSvg.prototype.setupZoom = function() {
    var that = this
    var $element = this.$element
    var $svg = this.$svg
    this.zoom = {width: $svg.attr('width'), height: $svg.attr('height'), percentage: null }
    this.scaleView(100.0)
    $element.mousewheel(function (evt) {
        if (evt.shiftKey) {
          var percentage = that.zoom.percentage
          percentage -= evt.deltaY * evt.deltaFactor
          if (percentage < 100.0) {
            percentage = 100.0
          }
          // get pointer offset in view
          // ratio offset within svg
          var dx = evt.pageX - $svg.offset().left
          var dy = evt.pageY - $svg.offset().top
          var rx = dx / $svg.width()
          var ry = dy / $svg.height()

          // offset within frame ($element)
          var px = evt.pageX - $element.offset().left
          var py = evt.pageY - $element.offset().top

          that.scaleView(percentage)
          // scroll so pointer is still in same place
          $element.scrollLeft((rx * $svg.width()) + 0.5 - px)
          $element.scrollTop((ry * $svg.height()) + 0.5 - py)
          return false // stop propogation
        }
      })
  }

  GraphvizSvg.prototype.scaleView = function(percentage) {
    var that = this
    var $svg = this.$svg
    $svg.attr('width', percentage + '%')
    $svg.attr('height', percentage + '%')
    this.zoom.percentage = percentage
    // now callback to update tooltip position
    var $everything = this.$nodes.add(this.$edges)
    $everything.children('a[title]').each(function () {
      that.options.tooltips.update.call(this)
    })
  }

  GraphvizSvg.prototype.scaleNode = function($node) {
    var dx = this.options.shrink.x
    var dy = this.options.shrink.y
    var tagName = $node.prop('tagName')
    if (tagName == 'ellipse') {
      $node.attr('rx', parseFloat($node.attr('rx')) - dx)
      $node.attr('ry', parseFloat($node.attr('ry')) - dy)
    } else if (tagName == 'polygon') {
      // this is more complex - we need to scale it manually
      var bbox = $node[0].getBBox()
      var cx = bbox.x + (bbox.width / 2)
      var cy = bbox.y + (bbox.height / 2)
      var pts = $node.attr('points').split(' ')
      var points = '' // new value
      for (var i in pts) {
        var xy = pts[i].split(',')
        var ox = parseFloat(xy[0])
        var oy = parseFloat(xy[1])
        points += (((cx - ox) / (bbox.width / 2) * dx) + ox) +
          ',' +
          (((cy - oy) / (bbox.height / 2) * dy) + oy) +
          ' '
      }
      $node.attr('points', points)
    }
  }

  GraphvizSvg.prototype.convertToPx = function (val) {
    var retval = val
    if (typeof val == 'string') {
      var end = val.length
      var factor = 1.0
      if (val.endsWith('px')) {
        end -= 2
      } else if (val.endsWith('pt')) {
        end -= 2
        factor = GraphvizSvg.GVPT_2_PX
      }
      retval = parseFloat(val.substring(0, end)) * factor
    }
    return retval
  }

  GraphvizSvg.prototype.findEdge = function (nodeName, testEdge, $retval) {
    var retval = []
    for (var name in this._edgesByName) {
      var match = testEdge(nodeName, name)
      if (match) {
        if ($retval) {
          $retval.push(this._edgesByName[name])
        }
        retval.push(match)
      }
    }
    return retval
  }

  GraphvizSvg.prototype.findLinked = function (node, includeEdges, testEdge, $retval) {
    var that = this
    var $node = $(node)
    var $edges = null
    if (includeEdges) {
      $edges = $retval
    }
    var names = this.findEdge($node.attr('data-name'), testEdge, $edges)
    for (var i in names) {
      var n = this._nodesByName[names[i]]
      if (!$retval.is(n)) {
        $retval.push(n)
        that.findLinked(n, includeEdges, testEdge, $retval)
      }
    }
  }

  GraphvizSvg.prototype.colorElement = function ($el, getColor) {
    var bg = this.$element.css('background')
    $el.find('polygon, ellipse, path').each(function() {
      var $this = $(this)
      var color = $this.data('graphviz.svg.color')
      if (color.fill && $this.prop('tagName') != 'path') {
        $this.attr('fill', getColor(color.fill, bg)) // don't set  fill if it's a path
      }
      if (color.stroke) {
        $this.attr('stroke', getColor(color.stroke, bg))
      }
    })
  }

  GraphvizSvg.prototype.restoreElement = function ($el) {
    $el.find('polygon, ellipse, path').each(function() {
      var $this = $(this)
      var color = $this.data('graphviz.svg.color')
      if (color.fill) {
        $this.attr('fill', color.fill) // don't set  fill if it's a path
      }
      if (color.stroke) {
        $this.attr('stroke', color.stroke)
      }
    })
  }


  // methods users can actually call
  GraphvizSvg.prototype.nodes = function () {
    return this.$nodes
  }

  GraphvizSvg.prototype.edges = function () {
    return this.$edges
  }

  GraphvizSvg.prototype.nodesByName = function () {
    return this._nodesByName
  }

  GraphvizSvg.prototype.edgesByName = function () {
    return this._edgesByName
  }

  GraphvizSvg.prototype.linkedTo = function (node, includeEdges) {
    var $retval = $()
    this.findLinked(node, includeEdges, function (nodeName, edgeName) {
      var other = null;
      var match = '->' + nodeName
      if (edgeName.endsWith(match)) {
        other = edgeName.substring(0, edgeName.length - match.length);
      }
      return other;
    }, $retval)
    return $retval
  }

  GraphvizSvg.prototype.linkedFrom = function (node, includeEdges) {
    var $retval = $()
    this.findLinked(node, includeEdges, function (nodeName, edgeName) {
      var other = null;
      var match = nodeName + '->'
      if (edgeName.startsWith(match)) {
        other = edgeName.substring(match.length);
      }
      return other;
    }, $retval)
    return $retval
  }

  GraphvizSvg.prototype.linked = function (node, includeEdges) {
    var $retval = $()
    this.findLinked(node, includeEdges, function (nodeName, edgeName) {
      return '^' + name + '--(.*)$'
    }, $retval)
    this.findLinked(node, includeEdges, function (nodeName, edgeName) {
      return '^(.*)--' + name + '$'
    }, $retval)
    return $retval
  }

  GraphvizSvg.prototype.tooltip = function ($elements, show) {
    var that = this
    var options = this.options
    $elements.each(function () {
      $(this).children('a[title]').each(function () {
        if (show) {
          options.tooltips.show.call(this)
        } else {
          options.tooltips.hide.call(this)
        }
      })
    })
  }

  GraphvizSvg.prototype.bringToFront = function ($elements) {
    $elements.detach().appendTo(this.$graph)
  }

  GraphvizSvg.prototype.sendToBack = function ($elements) {
    if (this.$background.length) {
      $element.insertAfter(this.$background)
    } else {
      $elements.detach().prependTo(this.$graph)
    }
  }

  GraphvizSvg.prototype.highlight = function ($nodesEdges, tooltips) {
    var that = this
    var options = this.options
    var $everything = this.$nodes.add(this.$edges)
    if ($nodesEdges && $nodesEdges.length > 0) {
      // create set of all other elements and dim them
      $everything.not($nodesEdges).each(function () {
        that.colorElement($(this), options.highlight.unselected)
        that.tooltip($(this))
      })
      $nodesEdges.each(function () {
        that.colorElement($(this), options.highlight.selected)
      })
      if (tooltips) {
        this.tooltip($nodesEdges, true)
      }
    } else {
      $everything.each(function () {
        that.restoreElement($(this))
      })
      this.tooltip($everything)
    }
  }

  GraphvizSvg.prototype.destroy = function () {
    var that = this
    this.hide(function () {
      that.$element.off('.' + that.type).removeData(that.type)
    })
  }


  // GRAPHVIZSVG PLUGIN DEFINITION
  // =============================

  function Plugin(option) {
    return this.each(function () {
      var $this   = $(this)
      var data    = $this.data('graphviz.svg')
      var options = typeof option == 'object' && option

      if (!data && /destroy/.test(option)) return
      if (!data) $this.data('graphviz.svg', (data = new GraphvizSvg(this, options)))
      if (typeof option == 'string') data[option]()
    })
  }

  var old = $.fn.graphviz

  $.fn.graphviz             = Plugin
  $.fn.graphviz.Constructor = GraphvizSvg


  // GRAPHVIZ NO CONFLICT
  // ====================

  $.fn.graphviz.noConflict = function () {
    $.fn.graphviz = old
    return this
  }

}(jQuery);

 			$(document).ready(function(){
                $("#graph").graphviz({
                    url: "", //"demo4.svg",
					svg:svgcode,
                    ready: function() {
                        var gv = this
                        gv.nodes().click(function () {
                            var $set = $()
                            $set.push(this)
                            $set = $set.add(gv.linkedFrom(this, true))
                            $set = $set.add(gv.linkedTo(this, true))
                            gv.highlight($set, true)
                            gv.bringToFront($set)
                        })
                        $(document).keydown(function (evt) {
                            if (evt.keyCode == 27) {
                                gv.highlight()
                            }
                        })
                    }
                });
            });
 			var svgcode="<?xml version=\"1.0\" standalone=\"no\"?>\n" +
					"<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"876pt\" height=\"839pt\" viewBox=\"0.00 0.00 875.58 838.99\">\n" +
					"<g id=\"graph0\" class=\"graph\" transform=\"translate(4,834.989990234375) scale(1)\" data-name=\"demo\">\n" +
					"\n" +
					"<polygon fill=\"white\" stroke=\"none\" points=\"-4,4 -4,-834.99 871.58,-834.99 871.58,4 -4,4\" style=\"\"/>\n" +
					"<g id=\"clust1\" class=\"cluster\" data-name=\"cluster_dml\">\n" +
					"\n" +
					"<polygon fill=\"none\" stroke=\"black\" points=\"152,-386.56 152,-463.36 488,-463.36 488,-386.56 152,-386.56\" style=\"\"/>\n" +
					"<text text-anchor=\"middle\" x=\"320\" y=\"-446.76\" font-family=\"Times,serif\" font-size=\"14.00\" style=\"\">会话内存</text>\n" +
					"</g>\n" +
					"<g id=\"clust2\" class=\"cluster\" data-name=\"cluster_commit\">\n" +
					"\n" +
					"<polygon fill=\"none\" stroke=\"black\" points=\"8,-8 8,-378.56 547,-378.56 547,-8 8,-8\" style=\"\"/>\n" +
					"<text text-anchor=\"middle\" x=\"277.5\" y=\"-361.96\" font-family=\"Times,serif\" font-size=\"14.00\" style=\"\">事务提交</text>\n" +
					"</g>\n" +
					"<g id=\"clust8\" class=\"cluster\" data-name=\"cluster_lock\">\n" +
					"\n" +
					"<polygon fill=\"none\" stroke=\"black\" points=\"522,-471.36 522,-786.99 740,-786.99 740,-471.36 522,-471.36\" style=\"\"/>\n" +
					"<text text-anchor=\"middle\" x=\"631\" y=\"-770.39\" font-family=\"Times,serif\" font-size=\"14.00\" style=\"\">事务锁相关</text>\n" +
					"</g>\n" +
					"<g id=\"clust10\" class=\"cluster\" data-name=\"cluster_lockerr\">\n" +
					"\n" +
					"<polygon fill=\"none\" stroke=\"black\" points=\"574,-224 574,-438.56 814,-438.56 814,-224 574,-224\" style=\"\"/>\n" +
					"</g>\n" +
					"<!-- pessi_rw -->\n" +
					"<g id=\"node1\" class=\"node\" pointer-events=\"visible\" data-name=\"pessi_rw\">\n" +
					"\n" +
					"<ellipse fill=\"#f0f0f0\" stroke=\"black\" cx=\"440\" cy=\"-412.56\" rx=\"40.01\" ry=\"18\" style=\"\"/>\n" +
					"<text text-anchor=\"middle\" x=\"440\" y=\"-408.36\" font-family=\"Times,serif\" font-size=\"14.00\" style=\"\">修改数据</text>\n" +
					"</g>\n" +
					"<!-- 悲观commit -->\n" +
					"<g id=\"node5\" class=\"node\" pointer-events=\"visible\" data-name=\"悲观commit\">\n" +
					"\n" +
					"<ellipse fill=\"#f0f0f0\" stroke=\"black\" cx=\"328\" cy=\"-327.76\" rx=\"55.05\" ry=\"18\" style=\"\"/>\n" +
					"<text text-anchor=\"middle\" x=\"328\" y=\"-323.56\" font-family=\"Times,serif\" font-size=\"14.00\" style=\"\">悲观commit</text>\n" +
					"</g>\n" +
					"<!-- pessi_rw&#45;&gt;悲观commit -->\n" +
					"<g id=\"edge34\" class=\"edge\" data-name=\"pessi_rw-&gt;悲观commit\">\n" +
					"\n" +
					"<path fill=\"none\" stroke=\"black\" d=\"M419.72,-396.56C402.71,-383.99 378.15,-365.83 358.73,-351.48\" style=\"\"/>\n" +
					"<polygon fill=\"black\" stroke=\"black\" points=\"361,-348.8 350.88,-345.67 356.84,-354.43 361,-348.8\" style=\"\"/>\n" +
					"</g>\n" +
					"<!-- opti_rw -->\n" +
					"<g id=\"node2\" class=\"node\" pointer-events=\"visible\" data-name=\"opti_rw\">\n" +
					"\n" +
					"<ellipse fill=\"#f0f0f0\" stroke=\"black\" cx=\"200\" cy=\"-412.56\" rx=\"40.01\" ry=\"18\" style=\"\"/>\n" +
					"<text text-anchor=\"middle\" x=\"200\" y=\"-408.36\" font-family=\"Times,serif\" font-size=\"14.00\" style=\"\">修改数据</text>\n" +
					"</g>\n" +
					"<!-- 乐观commit -->\n" +
					"<g id=\"node4\" class=\"node\" pointer-events=\"visible\" data-name=\"乐观commit\">\n" +
					"\n" +
					"<ellipse fill=\"#f0f0f0\" stroke=\"black\" cx=\"200\" cy=\"-327.76\" rx=\"55.05\" ry=\"18\" style=\"\"/>\n" +
					"<text text-anchor=\"middle\" x=\"200\" y=\"-323.56\" font-family=\"Times,serif\" font-size=\"14.00\" style=\"\">乐观commit</text>\n" +
					"</g>\n" +
					"<!-- opti_rw&#45;&gt;乐观commit -->\n" +
					"<g id=\"edge18\" class=\"edge\" data-name=\"opti_rw-&gt;乐观commit\">\n" +
					"\n" +
					"<path fill=\"none\" stroke=\"black\" d=\"M200,-394.4C200,-383.71 200,-369.67 200,-357.33\" style=\"\"/>\n" +
					"<polygon fill=\"black\" stroke=\"black\" points=\"203.5,-357.69 200,-347.69 196.5,-357.69 203.5,-357.69\" style=\"\"/>\n" +
					"</g>\n" +
					"<!-- dirtydata -->\n" +
					"<g id=\"node3\" class=\"node\" pointer-events=\"visible\" data-name=\"dirtydata\">\n" +
					"\n" +
					"<ellipse fill=\"#f0f0f0\" stroke=\"black\" stroke-dasharray=\"5,2\" cx=\"320\" cy=\"-412.56\" rx=\"61.97\" ry=\"18\" style=\"\"/>\n" +
					"<text text-anchor=\"middle\" x=\"320\" y=\"-408.36\" font-family=\"Times,serif\" font-size=\"14.00\" style=\"\">脏数据都在内存</text>\n" +
					"</g>\n" +
					"<!-- dirtydata&#45;&gt;乐观commit -->\n" +
					"<!-- dirtydata&#45;&gt;悲观commit -->\n" +
					"<!-- 超大事务 -->\n" +
					"<g id=\"node6\" class=\"node\" pointer-events=\"visible\" data-name=\"超大事务\">\n" +
					"\n" +
					"<ellipse fill=\"#f0f0f0\" stroke=\"black\" cx=\"384\" cy=\"-250\" rx=\"40.01\" ry=\"18\" style=\"\"/>\n" +
					"<text text-anchor=\"middle\" x=\"384\" y=\"-245.8\" font-family=\"Times,serif\" font-size=\"14.00\" style=\"\">超大事务</text>\n" +
					"</g>\n" +
					"<!-- dirtydata&#45;&gt;超大事务 -->\n" +
					"<g id=\"edge14\" class=\"edge\" data-name=\"dirtydata-&gt;超大事务\">\n" +
					"\n" +
					"<path fill=\"none\" stroke=\"black\" stroke-dasharray=\"5,2\" d=\"M365.38,-400.05C375.87,-395.17 385.76,-388.28 392,-378.56 411.19,-348.66 403.24,-306.26 394.6,-278.69\" style=\"\"/>\n" +
					"<polygon fill=\"black\" stroke=\"black\" points=\"397.94,-277.65 391.42,-269.3 391.31,-279.89 397.94,-277.65\" style=\"\"/>\n" +
					"</g>\n" +
					"<!-- 乐观commit&#45;&gt;超大事务 -->\n" +
					"<g id=\"edge8\" class=\"edge\" data-name=\"乐观commit-&gt;超大事务\">\n" +
					"\n" +
					"<path fill=\"none\" stroke=\"black\" d=\"M233.32,-313.04C264.72,-300.11 311.77,-280.74 344.92,-267.09\" style=\"\"/>\n" +
					"<polygon fill=\"black\" stroke=\"black\" points=\"345.85,-270.49 353.76,-263.45 343.18,-264.02 345.85,-270.49\" style=\"\"/>\n" +
					"</g>\n" +
					"<!-- 事务成功 -->\n" +
					"<g id=\"node7\" class=\"node\" pointer-events=\"visible\" data-name=\"事务成功\">\n" +
					"\n" +
					"<ellipse fill=\"greenyellow\" stroke=\"black\" cx=\"286\" cy=\"-250\" rx=\"40.01\" ry=\"18\" style=\"\"/>\n" +
					"<text text-anchor=\"middle\" x=\"286\" y=\"-245.8\" font-family=\"Times,serif\" font-size=\"14.00\" style=\"\">事务成功</text>\n" +
					"</g>\n" +
					"<!-- 乐观commit&#45;&gt;事务成功 -->\n" +
					"<g id=\"edge9\" class=\"edge\" data-name=\"乐观commit-&gt;事务成功\">\n" +
					"\n" +
					"<path fill=\"none\" stroke=\"black\" d=\"M218.24,-310.69C230.37,-300 246.5,-285.8 259.97,-273.93\" style=\"\"/>\n" +
					"<polygon fill=\"black\" stroke=\"black\" points=\"262.05,-276.76 267.24,-267.53 257.42,-271.51 262.05,-276.76\" style=\"\"/>\n" +
					"</g>\n" +
					"<!-- 锁冲突backoff -->\n" +
					"<g id=\"node13\" class=\"node\" pointer-events=\"visible\" data-name=\"锁冲突backoff\">\n" +
					"\n" +
					"<ellipse fill=\"#f0f0f0\" stroke=\"black\" cx=\"166\" cy=\"-250\" rx=\"62.01\" ry=\"18\" style=\"\"/>\n" +
					"<text text-anchor=\"middle\" x=\"166\" y=\"-245.8\" font-family=\"Times,serif\" font-size=\"14.00\" style=\"\">锁冲突backoff</text>\n" +
					"</g>\n" +
					"<!-- 乐观commit&#45;&gt;锁冲突backoff -->\n" +
					"<g id=\"edge10\" class=\"edge\" data-name=\"乐观commit-&gt;锁冲突backoff\">\n" +
					"\n" +
					"<path fill=\"none\" stroke=\"black\" d=\"M192.28,-309.57C188.16,-300.37 182.97,-288.81 178.3,-278.41\" style=\"\"/>\n" +
					"<polygon fill=\"black\" stroke=\"black\" points=\"181.59,-277.19 174.3,-269.5 175.21,-280.06 181.59,-277.19\" style=\"\"/>\n" +
					"</g>\n" +
					"<!-- 悲观commit&#45;&gt;超大事务 -->\n" +
					"<g id=\"edge1\" class=\"edge\" data-name=\"悲观commit-&gt;超大事务\">\n" +
					"\n" +
					"<path fill=\"none\" stroke=\"black\" d=\"M340.43,-309.95C347.66,-300.17 356.91,-287.64 365.03,-276.66\" style=\"\"/>\n" +
					"<polygon fill=\"black\" stroke=\"black\" points=\"367.77,-278.84 370.9,-268.72 362.14,-274.68 367.77,-278.84\" style=\"\"/>\n" +
					"</g>\n" +
					"<!-- 悲观commit&#45;&gt;事务成功 -->\n" +
					"<g id=\"edge2\" class=\"edge\" data-name=\"悲观commit-&gt;事务成功\">\n" +
					"\n" +
					"<path fill=\"none\" stroke=\"black\" d=\"M318.47,-309.57C313.28,-300.2 306.74,-288.41 300.89,-277.86\" style=\"\"/>\n" +
					"<polygon fill=\"black\" stroke=\"black\" points=\"303.99,-276.23 296.08,-269.19 297.87,-279.63 303.99,-276.23\" style=\"\"/>\n" +
					"</g>\n" +
					"<!-- binlog超2G -->\n" +
					"<g id=\"node8\" class=\"node\" pointer-events=\"visible\" data-name=\"binlog超2G\">\n" +
					"\n" +
					"<ellipse fill=\"#f0f0f0\" stroke=\"black\" cx=\"484\" cy=\"-178\" rx=\"54.52\" ry=\"18\" style=\"\"/>\n" +
					"<text text-anchor=\"middle\" x=\"484\" y=\"-173.8\" font-family=\"Times,serif\" font-size=\"14.00\" style=\"\">binlog超2G</text>\n" +
					"</g>\n" +
					"<!-- 超大事务&#45;&gt;binlog超2G -->\n" +
					"<g id=\"edge3\" class=\"edge\" data-name=\"超大事务-&gt;binlog超2G\">\n" +
					"\n" +
					"<path fill=\"none\" stroke=\"black\" d=\"M404.72,-234.5C418.46,-224.88 436.75,-212.07 452.3,-201.19\" style=\"\"/>\n" +
					"<polygon fill=\"black\" stroke=\"black\" points=\"454.14,-204.17 460.33,-195.57 450.13,-198.44 454.14,-204.17\" style=\"\"/>\n" +
					"</g>\n" +
					"<!-- 超出事务限制 -->\n" +
					"<g id=\"node9\" class=\"node\" pointer-events=\"visible\" data-name=\"超出事务限制\">\n" +
					"\n" +
					"<ellipse fill=\"#f0f0f0\" stroke=\"black\" cx=\"357\" cy=\"-178\" rx=\"54.49\" ry=\"18\" style=\"\"/>\n" +
					"<text text-anchor=\"middle\" x=\"357\" y=\"-173.8\" font-family=\"Times,serif\" font-size=\"14.00\" style=\"\">超出事务限制</text>\n" +
					"</g>\n" +
					"<!-- 超大事务&#45;&gt;超出事务限制 -->\n" +
					"<g id=\"edge4\" class=\"edge\" data-name=\"超大事务-&gt;超出事务限制\">\n" +
					"\n" +
					"<path fill=\"none\" stroke=\"black\" d=\"M377.46,-232.05C374.56,-224.52 371.05,-215.44 367.78,-206.94\" style=\"\"/>\n" +
					"<polygon fill=\"black\" stroke=\"black\" points=\"371.07,-205.76 364.21,-197.69 364.54,-208.28 371.07,-205.76\" style=\"\"/>\n" +
					"</g>\n" +
					"<!-- grpc报文失败 -->\n" +
					"<g id=\"node10\" class=\"node\" pointer-events=\"visible\" data-name=\"grpc报文失败\">\n" +
					"\n" +
					"<ellipse fill=\"#f0f0f0\" stroke=\"black\" cx=\"458\" cy=\"-106\" rx=\"57.33\" ry=\"18\" style=\"\"/>\n" +
					"<text text-anchor=\"middle\" x=\"458\" y=\"-101.8\" font-family=\"Times,serif\" font-size=\"14.00\" style=\"\">grpc报文失败</text>\n" +
					"</g>\n" +
					"<!-- binlog超2G&#45;&gt;grpc报文失败 -->\n" +
					"<g id=\"edge5\" class=\"edge\" data-name=\"binlog超2G-&gt;grpc报文失败\">\n" +
					"\n" +
					"<path fill=\"none\" stroke=\"black\" d=\"M477.57,-159.7C474.77,-152.15 471.42,-143.12 468.28,-134.68\" style=\"\"/>\n" +
					"<polygon fill=\"black\" stroke=\"black\" points=\"471.64,-133.68 464.88,-125.52 465.08,-136.12 471.64,-133.68\" style=\"\"/>\n" +
					"</g>\n" +
					"<!-- 提交事务失败 -->\n" +
					"<g id=\"node12\" class=\"node\" pointer-events=\"visible\" data-name=\"提交事务失败\">\n" +
					"\n" +
					"<ellipse fill=\"lightpink\" stroke=\"black\" cx=\"270\" cy=\"-106\" rx=\"54.49\" ry=\"18\" style=\"\"/>\n" +
					"<text text-anchor=\"middle\" x=\"270\" y=\"-101.8\" font-family=\"Times,serif\" font-size=\"14.00\" style=\"\">提交事务失败</text>\n" +
					"</g>\n" +
					"<!-- 超出事务限制&#45;&gt;提交事务失败 -->\n" +
					"<g id=\"edge7\" class=\"edge\" data-name=\"超出事务限制-&gt;提交事务失败\">\n" +
					"\n" +
					"<path fill=\"none\" stroke=\"black\" d=\"M337.26,-161.12C325.88,-151.96 311.38,-140.29 298.75,-130.13\" style=\"\"/>\n" +
					"<polygon fill=\"black\" stroke=\"black\" points=\"301.13,-127.55 291.14,-124.01 296.74,-133.01 301.13,-127.55\" style=\"\"/>\n" +
					"</g>\n" +
					"<!-- DM /kafka失败 (事务成功) -->\n" +
					"<g id=\"node11\" class=\"node\" pointer-events=\"visible\" data-name=\"DM /kafka失败 (事务成功)\">\n" +
					"\n" +
					"<ellipse fill=\"#f0f0f0\" stroke=\"black\" cx=\"434\" cy=\"-34\" rx=\"105.38\" ry=\"18\" style=\"\"/>\n" +
					"<text text-anchor=\"middle\" x=\"434\" y=\"-29.8\" font-family=\"Times,serif\" font-size=\"14.00\" style=\"\">DM /kafka失败 (事务成功)</text>\n" +
					"</g>\n" +
					"<!-- grpc报文失败&#45;&gt;DM /kafka失败 (事务成功) -->\n" +
					"<g id=\"edge6\" class=\"edge\" data-name=\"grpc报文失败-&gt;DM /kafka失败 (事务成功)\">\n" +
					"\n" +
					"<path fill=\"none\" stroke=\"black\" d=\"M452.07,-87.7C449.51,-80.24 446.45,-71.32 443.59,-62.97\" style=\"\"/>\n" +
					"<polygon fill=\"black\" stroke=\"black\" points=\"446.91,-61.86 440.36,-53.54 440.29,-64.13 446.91,-61.86\" style=\"\"/>\n" +
					"</g>\n" +
					"<!-- 重试成功(慢) -->\n" +
					"<g id=\"node14\" class=\"node\" pointer-events=\"visible\" data-name=\"重试成功(慢)\">\n" +
					"\n" +
					"<ellipse fill=\"greenyellow\" stroke=\"black\" cx=\"70\" cy=\"-178\" rx=\"53.86\" ry=\"18\" style=\"\"/>\n" +
					"<text text-anchor=\"middle\" x=\"70\" y=\"-173.8\" font-family=\"Times,serif\" font-size=\"14.00\" style=\"\">重试成功(慢)</text>\n" +
					"</g>\n" +
					"<!-- 锁冲突backoff&#45;&gt;重试成功(慢) -->\n" +
					"<g id=\"edge11\" class=\"edge\" data-name=\"锁冲突backoff-&gt;重试成功(慢)\">\n" +
					"\n" +
					"<path fill=\"none\" stroke=\"black\" d=\"M143.73,-232.76C131.04,-223.51 114.94,-211.77 101.03,-201.63\" style=\"\"/>\n" +
					"<polygon fill=\"black\" stroke=\"black\" points=\"103.18,-198.86 93.04,-195.8 99.05,-204.52 103.18,-198.86\" style=\"\"/>\n" +
					"</g>\n" +
					"<!-- 重试失败/或不重试 -->\n" +
					"<g id=\"node15\" class=\"node\" pointer-events=\"visible\" data-name=\"重试失败/或不重试\">\n" +
					"\n" +
					"<ellipse fill=\"#f0f0f0\" stroke=\"black\" cx=\"213\" cy=\"-178\" rx=\"71.82\" ry=\"18\" style=\"\"/>\n" +
					"<text text-anchor=\"middle\" x=\"213\" y=\"-173.8\" font-family=\"Times,serif\" font-size=\"14.00\" style=\"\">重试失败/或不重试</text>\n" +
					"</g>\n" +
					"<!-- 锁冲突backoff&#45;&gt;重试失败/或不重试 -->\n" +
					"<g id=\"edge12\" class=\"edge\" data-name=\"锁冲突backoff-&gt;重试失败/或不重试\">\n" +
					"\n" +
					"<path fill=\"none\" stroke=\"black\" d=\"M177.38,-232.05C182.8,-223.97 189.42,-214.12 195.47,-205.11\" style=\"\"/>\n" +
					"<polygon fill=\"black\" stroke=\"black\" points=\"198.22,-207.3 200.88,-197.05 192.4,-203.4 198.22,-207.3\" style=\"\"/>\n" +
					"</g>\n" +
					"<!-- 重试失败/或不重试&#45;&gt;提交事务失败 -->\n" +
					"<g id=\"edge13\" class=\"edge\" data-name=\"重试失败/或不重试-&gt;提交事务失败\">\n" +
					"\n" +
					"<path fill=\"none\" stroke=\"black\" d=\"M226.8,-160.05C233.52,-151.8 241.74,-141.7 249.2,-132.54\" style=\"\"/>\n" +
					"<polygon fill=\"black\" stroke=\"black\" points=\"251.77,-134.93 255.37,-124.96 246.34,-130.51 251.77,-134.93\" style=\"\"/>\n" +
					"</g>\n" +
					"<!-- 乐观事务 -->\n" +
					"<g id=\"node16\" class=\"node\" pointer-events=\"visible\" data-name=\"乐观事务\">\n" +
					"\n" +
					"<ellipse fill=\"#f0f0f0\" stroke=\"black\" cx=\"260\" cy=\"-497.36\" rx=\"40.01\" ry=\"18\" style=\"\"/>\n" +
					"<text text-anchor=\"middle\" x=\"260\" y=\"-493.16\" font-family=\"Times,serif\" font-size=\"14.00\" style=\"\">乐观事务</text>\n" +
					"</g>\n" +
					"<!-- 乐观事务&#45;&gt;opti_rw -->\n" +
					"<g id=\"edge17\" class=\"edge\" data-name=\"乐观事务-&gt;opti_rw\">\n" +
					"\n" +
					"<path fill=\"none\" stroke=\"black\" d=\"M248.15,-480C239.74,-468.4 228.28,-452.59 218.65,-439.3\" style=\"\"/>\n" +
					"<polygon fill=\"black\" stroke=\"black\" points=\"221.62,-437.44 212.92,-431.39 215.96,-441.54 221.62,-437.44\" style=\"\"/>\n" +
					"</g>\n" +
					"<!-- 乐观事务&#45;&gt;dirtydata -->\n" +
					"<!-- 上锁lock_CF -->\n" +
					"<g id=\"node17\" class=\"node\" pointer-events=\"visible\" data-name=\"上锁lock_CF\">\n" +
					"\n" +
					"<ellipse fill=\"#f0f0f0\" stroke=\"black\" cx=\"638\" cy=\"-736.19\" rx=\"58.58\" ry=\"18\" style=\"\"/>\n" +
					"<text text-anchor=\"middle\" x=\"638\" y=\"-731.99\" font-family=\"Times,serif\" font-size=\"14.00\" style=\"\">上锁lock_CF</text>\n" +
					"</g>\n" +
					"<!-- 上锁成功 -->\n" +
					"<g id=\"node18\" class=\"node\" pointer-events=\"visible\" data-name=\"上锁成功\">\n" +
					"\n" +
					"<ellipse fill=\"greenyellow\" stroke=\"black\" cx=\"581\" cy=\"-497.36\" rx=\"40.01\" ry=\"18\" style=\"\"/>\n" +
					"<text text-anchor=\"middle\" x=\"581\" y=\"-493.16\" font-family=\"Times,serif\" font-size=\"14.00\" style=\"\">上锁成功</text>\n" +
					"</g>\n" +
					"<!-- 上锁lock_CF&#45;&gt;上锁成功 -->\n" +
					"<g id=\"edge20\" class=\"edge\" data-name=\"上锁lock_CF-&gt;上锁成功\">\n" +
					"\n" +
					"<path fill=\"none\" stroke=\"black\" d=\"M614.57,-719.33C601.67,-709.73 586.08,-696.57 575,-682.19 553.41,-654.15 548.74,-644.72 541,-610.19 535.28,-584.68 532.69,-576.15 541,-551.36 544.5,-540.92 550.95,-530.9 557.66,-522.43\" style=\"\"/>\n" +
					"<polygon fill=\"black\" stroke=\"black\" points=\"560.12,-524.94 563.95,-515.06 554.8,-520.4 560.12,-524.94\" style=\"\"/>\n" +
					"</g>\n" +
					"<!-- 目标已经有锁 -->\n" +
					"<g id=\"node19\" class=\"node\" pointer-events=\"visible\" data-name=\"目标已经有锁\">\n" +
					"\n" +
					"<ellipse fill=\"#f0f0f0\" stroke=\"black\" cx=\"638\" cy=\"-664.19\" rx=\"54.49\" ry=\"18\" style=\"\"/>\n" +
					"<text text-anchor=\"middle\" x=\"638\" y=\"-659.99\" font-family=\"Times,serif\" font-size=\"14.00\" style=\"\">目标已经有锁</text>\n" +
					"</g>\n" +
					"<!-- 上锁lock_CF&#45;&gt;目标已经有锁 -->\n" +
					"<g id=\"edge21\" class=\"edge\" data-name=\"上锁lock_CF-&gt;目标已经有锁\">\n" +
					"\n" +
					"<path fill=\"none\" stroke=\"black\" d=\"M638,-717.89C638,-710.6 638,-701.92 638,-693.73\" style=\"\"/>\n" +
					"<polygon fill=\"black\" stroke=\"black\" points=\"641.5,-693.81 638,-683.81 634.5,-693.81 641.5,-693.81\" style=\"\"/>\n" +
					"</g>\n" +
					"<!-- 上锁成功&#45;&gt;pessi_rw -->\n" +
					"<g id=\"edge33\" class=\"edge\" data-name=\"上锁成功-&gt;pessi_rw\">\n" +
					"\n" +
					"<path fill=\"none\" stroke=\"black\" d=\"M546.54,-488C528.51,-482.66 506.58,-474.6 489,-463.36 478.42,-456.6 468.39,-447.16 460.19,-438.32\" style=\"\"/>\n" +
					"<polygon fill=\"black\" stroke=\"black\" points=\"462.9,-436.1 453.65,-430.93 457.66,-440.74 462.9,-436.1\" style=\"\"/>\n" +
					"</g>\n" +
					"<!-- 持锁超时1h -->\n" +
					"<g id=\"node24\" class=\"node\" pointer-events=\"visible\" data-name=\"持锁超时1h\">\n" +
					"\n" +
					"<ellipse fill=\"#f0f0f0\" stroke=\"black\" cx=\"632\" cy=\"-412.56\" rx=\"49.83\" ry=\"18\" style=\"\"/>\n" +
					"<text text-anchor=\"middle\" x=\"632\" y=\"-408.36\" font-family=\"Times,serif\" font-size=\"14.00\" style=\"\">持锁超时1h</text>\n" +
					"</g>\n" +
					"<!-- 上锁成功&#45;&gt;持锁超时1h -->\n" +
					"<g id=\"edge36\" class=\"edge\" data-name=\"上锁成功-&gt;持锁超时1h\">\n" +
					"\n" +
					"<path fill=\"none\" stroke=\"black\" stroke-dasharray=\"5,2\" d=\"M591.32,-479.6C598.26,-468.34 607.55,-453.26 615.5,-440.35\" style=\"\"/>\n" +
					"<polygon fill=\"black\" stroke=\"black\" points=\"618.46,-442.21 620.73,-431.86 612.5,-438.54 618.46,-442.21\" style=\"\"/>\n" +
					"</g>\n" +
					"<!-- MDL锁\\n阻止DDL -->\n" +
					"<g id=\"node30\" class=\"node\" pointer-events=\"visible\" data-name=\"MDL锁\\n阻止DDL\">\n" +
					"\n" +
					"<polygon fill=\"#f0f0f0\" stroke=\"black\" points=\"557.77,-433.16 498.23,-433.16 498.23,-391.96 563.77,-391.96 563.77,-427.16 557.77,-433.16\" style=\"\"/>\n" +
					"<polyline fill=\"none\" stroke=\"black\" points=\"557.77,-433.16 557.77,-427.16\" style=\"\"/>\n" +
					"<polyline fill=\"none\" stroke=\"black\" points=\"563.77,-427.16 557.77,-427.16\" style=\"\"/>\n" +
					"<text text-anchor=\"middle\" x=\"531\" y=\"-416.76\" font-family=\"Times,serif\" font-size=\"14.00\" style=\"\">MDL锁</text>\n" +
					"<text text-anchor=\"middle\" x=\"531\" y=\"-399.96\" font-family=\"Times,serif\" font-size=\"14.00\" style=\"\">阻止DDL</text>\n" +
					"</g>\n" +
					"<!-- 上锁成功&#45;&gt;MDL锁\\n阻止DDL -->\n" +
					"<g id=\"edge35\" class=\"edge\" data-name=\"上锁成功-&gt;MDL锁\\n阻止DDL\">\n" +
					"\n" +
					"<path fill=\"none\" stroke=\"black\" stroke-dasharray=\"5,2\" d=\"M570.88,-479.6C564.6,-469.19 556.33,-455.51 548.96,-443.3\" style=\"\"/>\n" +
					"<polygon fill=\"black\" stroke=\"black\" points=\"551.99,-441.55 543.82,-434.8 546,-445.17 551.99,-441.55\" style=\"\"/>\n" +
					"</g>\n" +
					"<!-- 过期的锁\\n/清理 -->\n" +
					"<g id=\"node20\" class=\"node\" pointer-events=\"visible\" data-name=\"过期的锁\\n/清理\">\n" +
					"\n" +
					"<ellipse fill=\"#f0f0f0\" stroke=\"black\" cx=\"591\" cy=\"-580.77\" rx=\"41.02\" ry=\"29.33\" style=\"\"/>\n" +
					"<text text-anchor=\"middle\" x=\"591\" y=\"-584.97\" font-family=\"Times,serif\" font-size=\"14.00\" style=\"\">过期的锁</text>\n" +
					"<text text-anchor=\"middle\" x=\"591\" y=\"-568.17\" font-family=\"Times,serif\" font-size=\"14.00\" style=\"\">/清理</text>\n" +
					"</g>\n" +
					"<!-- 目标已经有锁&#45;&gt;过期的锁\\n/清理 -->\n" +
					"<g id=\"edge22\" class=\"edge\" data-name=\"目标已经有锁-&gt;过期的锁\\n/清理\">\n" +
					"\n" +
					"<path fill=\"none\" stroke=\"black\" d=\"M628.26,-646.32C623.5,-638.08 617.58,-627.82 611.87,-617.92\" style=\"\"/>\n" +
					"<polygon fill=\"black\" stroke=\"black\" points=\"615.07,-616.46 607.03,-609.55 609,-619.96 615.07,-616.46\" style=\"\"/>\n" +
					"</g>\n" +
					"<!-- 有效的锁\\n/等待 -->\n" +
					"<g id=\"node21\" class=\"node\" pointer-events=\"visible\" data-name=\"有效的锁\\n/等待\">\n" +
					"\n" +
					"<ellipse fill=\"#f0f0f0\" stroke=\"black\" cx=\"691\" cy=\"-580.77\" rx=\"41.02\" ry=\"29.33\" style=\"\"/>\n" +
					"<text text-anchor=\"middle\" x=\"691\" y=\"-584.97\" font-family=\"Times,serif\" font-size=\"14.00\" style=\"\">有效的锁</text>\n" +
					"<text text-anchor=\"middle\" x=\"691\" y=\"-568.17\" font-family=\"Times,serif\" font-size=\"14.00\" style=\"\">/等待</text>\n" +
					"</g>\n" +
					"<!-- 目标已经有锁&#45;&gt;有效的锁\\n/等待 -->\n" +
					"<g id=\"edge24\" class=\"edge\" data-name=\"目标已经有锁-&gt;有效的锁\\n/等待\">\n" +
					"\n" +
					"<path fill=\"none\" stroke=\"black\" d=\"M648.98,-646.32C654.45,-637.92 661.28,-627.43 667.83,-617.36\" style=\"\"/>\n" +
					"<polygon fill=\"black\" stroke=\"black\" points=\"670.63,-619.48 673.15,-609.19 664.76,-615.66 670.63,-619.48\" style=\"\"/>\n" +
					"</g>\n" +
					"<!-- 过期的锁\\n/清理&#45;&gt;上锁成功 -->\n" +
					"<g id=\"edge23\" class=\"edge\" data-name=\"过期的锁\\n/清理-&gt;上锁成功\">\n" +
					"\n" +
					"<path fill=\"none\" stroke=\"black\" d=\"M587.5,-551.3C586.53,-543.38 585.47,-534.78 584.5,-526.87\" style=\"\"/>\n" +
					"<polygon fill=\"black\" stroke=\"black\" points=\"587.99,-526.55 583.3,-517.05 581.04,-527.4 587.99,-526.55\" style=\"\"/>\n" +
					"</g>\n" +
					"<!-- 有效的锁\\n/等待&#45;&gt;上锁成功 -->\n" +
					"<g id=\"edge25\" class=\"edge\" data-name=\"有效的锁\\n/等待-&gt;上锁成功\">\n" +
					"\n" +
					"<path fill=\"none\" stroke=\"black\" d=\"M662.96,-559.02C646.78,-547.05 626.47,-532.02 610.12,-519.91\" style=\"\"/>\n" +
					"<polygon fill=\"black\" stroke=\"black\" points=\"612.34,-517.2 602.22,-514.07 608.18,-522.83 612.34,-517.2\" style=\"\"/>\n" +
					"</g>\n" +
					"<!-- 等待超时50s -->\n" +
					"<g id=\"node22\" class=\"node\" pointer-events=\"visible\" data-name=\"等待超时50s\">\n" +
					"\n" +
					"<ellipse fill=\"#f0f0f0\" stroke=\"black\" cx=\"753\" cy=\"-412.56\" rx=\"53.34\" ry=\"18\" style=\"\"/>\n" +
					"<text text-anchor=\"middle\" x=\"753\" y=\"-408.36\" font-family=\"Times,serif\" font-size=\"14.00\" style=\"\">等待超时50s</text>\n" +
					"</g>\n" +
					"<!-- 有效的锁\\n/等待&#45;&gt;等待超时50s -->\n" +
					"<g id=\"edge37\" class=\"edge\" data-name=\"有效的锁\\n/等待-&gt;等待超时50s\">\n" +
					"\n" +
					"<path fill=\"none\" stroke=\"black\" d=\"M701.38,-551.95C712.86,-521.17 731.25,-471.87 742.7,-441.17\" style=\"\"/>\n" +
					"<polygon fill=\"black\" stroke=\"black\" points=\"745.84,-442.78 746.05,-432.19 739.28,-440.33 745.84,-442.78\" style=\"\"/>\n" +
					"</g>\n" +
					"<!-- lockwait -->\n" +
					"<g id=\"node23\" class=\"node\" pointer-events=\"visible\" data-name=\"lockwait\">\n" +
					"\n" +
					"<ellipse fill=\"#f0f0f0\" stroke=\"black\" cx=\"752\" cy=\"-327.76\" rx=\"39.72\" ry=\"23.52\" style=\"\"/>\n" +
					"<text text-anchor=\"middle\" x=\"752\" y=\"-331.96\" font-family=\"Times,serif\" font-size=\"14.00\" style=\"\">Lock wait</text>\n" +
					"<text text-anchor=\"middle\" x=\"752\" y=\"-315.16\" font-family=\"Times,serif\" font-size=\"14.00\" style=\"\">timeout</text>\n" +
					"</g>\n" +
					"<!-- 等待超时50s&#45;&gt;lockwait -->\n" +
					"<g id=\"edge26\" class=\"edge\" data-name=\"等待超时50s-&gt;lockwait\">\n" +
					"\n" +
					"<path fill=\"none\" stroke=\"black\" d=\"M752.79,-394.4C752.68,-385.29 752.54,-373.75 752.41,-362.91\" style=\"\"/>\n" +
					"<polygon fill=\"black\" stroke=\"black\" points=\"755.91,-363.02 752.29,-353.06 748.91,-363.11 755.91,-363.02\" style=\"\"/>\n" +
					"</g>\n" +
					"<!-- 事务因锁失败 -->\n" +
					"<g id=\"node26\" class=\"node\" pointer-events=\"visible\" data-name=\"事务因锁失败\">\n" +
					"\n" +
					"<ellipse fill=\"lightpink\" stroke=\"black\" cx=\"695\" cy=\"-250\" rx=\"54.49\" ry=\"18\" style=\"\"/>\n" +
					"<text text-anchor=\"middle\" x=\"695\" y=\"-245.8\" font-family=\"Times,serif\" font-size=\"14.00\" style=\"\">事务因锁失败</text>\n" +
					"</g>\n" +
					"<!-- lockwait&#45;&gt;事务因锁失败 -->\n" +
					"<g id=\"edge28\" class=\"edge\" data-name=\"lockwait-&gt;事务因锁失败\">\n" +
					"\n" +
					"<path fill=\"none\" stroke=\"black\" d=\"M736.42,-306.06C729.6,-296.99 721.52,-286.25 714.32,-276.68\" style=\"\"/>\n" +
					"<polygon fill=\"black\" stroke=\"black\" points=\"717.21,-274.7 708.4,-268.81 711.62,-278.91 717.21,-274.7\" style=\"\"/>\n" +
					"</g>\n" +
					"<!-- ttlmgr -->\n" +
					"<g id=\"node25\" class=\"node\" pointer-events=\"visible\" data-name=\"ttlmgr\">\n" +
					"\n" +
					"<ellipse fill=\"#f0f0f0\" stroke=\"black\" cx=\"638\" cy=\"-327.76\" rx=\"54.89\" ry=\"23.52\" style=\"\"/>\n" +
					"<text text-anchor=\"middle\" x=\"638\" y=\"-331.96\" font-family=\"Times,serif\" font-size=\"14.00\" style=\"\">TTL manager</text>\n" +
					"<text text-anchor=\"middle\" x=\"638\" y=\"-315.16\" font-family=\"Times,serif\" font-size=\"14.00\" style=\"\">timeout</text>\n" +
					"</g>\n" +
					"<!-- 持锁超时1h&#45;&gt;ttlmgr -->\n" +
					"<g id=\"edge27\" class=\"edge\" data-name=\"持锁超时1h-&gt;ttlmgr\">\n" +
					"\n" +
					"<path fill=\"none\" stroke=\"black\" d=\"M633.24,-394.4C633.9,-385.29 634.74,-373.75 635.53,-362.91\" style=\"\"/>\n" +
					"<polygon fill=\"black\" stroke=\"black\" points=\"639.01,-363.29 636.24,-353.06 632.03,-362.78 639.01,-363.29\" style=\"\"/>\n" +
					"</g>\n" +
					"<!-- ttlmgr&#45;&gt;事务因锁失败 -->\n" +
					"<g id=\"edge29\" class=\"edge\" data-name=\"ttlmgr-&gt;事务因锁失败\">\n" +
					"\n" +
					"<path fill=\"none\" stroke=\"black\" d=\"M654.49,-304.85C661.12,-296.02 668.83,-285.79 675.72,-276.62\" style=\"\"/>\n" +
					"<polygon fill=\"black\" stroke=\"black\" points=\"678.41,-278.87 681.63,-268.78 672.82,-274.66 678.41,-278.87\" style=\"\"/>\n" +
					"</g>\n" +
					"<!-- 悲观事务 -->\n" +
					"<g id=\"node27\" class=\"node\" pointer-events=\"visible\" data-name=\"悲观事务\">\n" +
					"\n" +
					"<ellipse fill=\"#f0f0f0\" stroke=\"black\" cx=\"723\" cy=\"-812.99\" rx=\"40.01\" ry=\"18\" style=\"\"/>\n" +
					"<text text-anchor=\"middle\" x=\"723\" y=\"-808.79\" font-family=\"Times,serif\" font-size=\"14.00\" style=\"\">悲观事务</text>\n" +
					"</g>\n" +
					"<!-- 悲观事务&#45;&gt;上锁lock_CF -->\n" +
					"<g id=\"edge32\" class=\"edge\" data-name=\"悲观事务-&gt;上锁lock_CF\">\n" +
					"\n" +
					"<path fill=\"none\" stroke=\"black\" d=\"M705.39,-796.49C693.74,-786.24 678.24,-772.6 665.04,-760.99\" style=\"\"/>\n" +
					"<polygon fill=\"black\" stroke=\"black\" points=\"667.72,-758.69 657.9,-754.71 663.1,-763.94 667.72,-758.69\" style=\"\"/>\n" +
					"</g>\n" +
					"<!-- 时长超gc_life -->\n" +
					"<g id=\"node28\" class=\"node\" pointer-events=\"visible\" data-name=\"时长超gc_life\">\n" +
					"\n" +
					"<ellipse fill=\"#f0f0f0\" stroke=\"black\" cx=\"808\" cy=\"-736.19\" rx=\"59.65\" ry=\"18\" style=\"\"/>\n" +
					"<text text-anchor=\"middle\" x=\"808\" y=\"-731.99\" font-family=\"Times,serif\" font-size=\"14.00\" style=\"\">时长超gc_life</text>\n" +
					"</g>\n" +
					"<!-- 悲观事务&#45;&gt;时长超gc_life -->\n" +
					"<g id=\"edge30\" class=\"edge\" data-name=\"悲观事务-&gt;时长超gc_life\">\n" +
					"\n" +
					"<path fill=\"none\" stroke=\"black\" d=\"M740.61,-796.49C752.26,-786.24 767.76,-772.6 780.96,-760.99\" style=\"\"/>\n" +
					"<polygon fill=\"black\" stroke=\"black\" points=\"782.9,-763.94 788.1,-754.71 778.28,-758.69 782.9,-763.94\" style=\"\"/>\n" +
					"</g>\n" +
					"<!-- 事务超长失败 -->\n" +
					"<g id=\"node29\" class=\"node\" pointer-events=\"visible\" data-name=\"事务超长失败\">\n" +
					"\n" +
					"<ellipse fill=\"lightpink\" stroke=\"black\" cx=\"808\" cy=\"-664.19\" rx=\"54.49\" ry=\"18\" style=\"\"/>\n" +
					"<text text-anchor=\"middle\" x=\"808\" y=\"-659.99\" font-family=\"Times,serif\" font-size=\"14.00\" style=\"\">事务超长失败</text>\n" +
					"</g>\n" +
					"<!-- 时长超gc_life&#45;&gt;事务超长失败 -->\n" +
					"<g id=\"edge31\" class=\"edge\" data-name=\"时长超gc_life-&gt;事务超长失败\">\n" +
					"\n" +
					"<path fill=\"none\" stroke=\"black\" d=\"M808,-717.89C808,-710.6 808,-701.92 808,-693.73\" style=\"\"/>\n" +
					"<polygon fill=\"black\" stroke=\"black\" points=\"811.5,-693.81 808,-683.81 804.5,-693.81 811.5,-693.81\" style=\"\"/>\n" +
					"</g>\n" +
					"</g>\n" +
					"</svg>";
		</script>
	</body>
</html>
